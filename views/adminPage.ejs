<%- include('templates/header'); -%>

<script>

	function confirmF(id){
		if(confirm("Do you really want to delete this author?")){
			location.href = "/author/"+id+"/delete";
		}
	}
	
</script>

<div class="container">
    <div class ="jumbotron">
        <h1 style="text-align:center;"> Admin Page </h1>
			<div class='form-group row'>
    			<div class='col-sm-4'></div>
                    <button class="col-sm-4 btn btn-info btn-block" onclick="location.href='/';" > Home </button> 
                <div class="col-sm-4"></div>    
    			<div class='col-sm-4'></div>
            </div>
        <br>
			<%if(!authors){%>
			    <h3> No authors found!</h3>
			<%} else {%>
				
				<table class = table>
				    <thead>
						<tr>
						    <th scope="col">ID</th>
						    <th scope="col">First Name</th>
						    <th scope="col">Last Name</th>
						    <th scope="col">DOB</th>
						    <th scope="col">DOD</th>
						    <th scope="col">Actions</th>
						    <th scope="col"><a href="/new_author">New Author</a></th>
					    </tr>
					</thead>

                    <tbody>							
						<%authors.forEach(function(author){%>
							<tr>
								<td><%=author.authorId%></td>
								<td><%=author.firstName%></td> 
								<td><%=author.lastName%></td>
								<td><%=author.dob%></td>
								<td><%=author.dod%></td>
								<td><a href="/author/<%=author.authorId%>/edit">Edit</a> | <button onclick="confirmF(<%=author.authorId%>)">Delete</button> </td>
							</tr>
						<%});%>
					</tbody>
				</table>
			<%}%>
    </div>
    

    
    
</div>


<%- include('templates/footer'); -%>
